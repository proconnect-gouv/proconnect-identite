{
  "folders": [
    { "name": "ğŸªª packages/identity/", "path": "../packages/identite" },
    { "name": "ğŸª™ packages/core/", "path": "../packages/core" },
    { "name": "ğŸ—ï¸ packages/crisp/", "path": "../packages/crisp" },
    { "name": "ğŸ—ï¸ packages/debounce/", "path": "../packages/debounce" },
    { "name": "ğŸ—ï¸ packages/email/", "path": "../packages/email" },
    { "name": "ğŸ—ï¸ packages/entreprise/", "path": "../packages/entreprise" },
    { "name": "ğŸ—ï¸ packages/insee/", "path": "../packages/insee" },
    { "name": "âš™ï¸ packages/devtools/", "path": "../packages/devtools" },
    { "name": "ğŸš¥ cypress/", "path": "../cypress" },
    { "name": "ğŸ­ packages/testing/", "path": "../packages/testing" },
    { "name": "/", "path": ".." },
  ],
  "tasks": {
    "version": "2.0.0",
    "tasks": [
      {
        "label": "ğŸ‹ Docker Up",
        "command": "docker compose up --build --wait",
        "type": "shell",
        "options": {
          "cwd": "${workspaceFolder:/}",
        },
        "group": "build",
        "runOptions": {
          "instanceLimit": 1,
        },
      },
      {
        "label": "ğŸ§ª Run Test",
        "command": "npm test",
        "type": "shell",
        "group": "build",
        "options": {
          "cwd": "${workspaceFolder:/}",
        },
        "problemMatcher": ["$tsc-watch"],
        "runOptions": { "instanceLimit": 1 },
      },
      {
        "label": "ğŸ§ª Watch Test : Current file",
        "command": "npm test --test-only --watch ${fileDirname}/${fileBasename}",
        "type": "shell",
        "group": "build",
        "options": {},
        "problemMatcher": ["$tsc-watch"],
        "runOptions": { "instanceLimit": 1 },
      },
      {
        "label": "ğŸš¥ Cypress Studio (open)",
        "command": "npx cypress open",
        "type": "shell",
        "group": "build",
        "options": {
          "cwd": "${workspaceFolder:/}",
        },
        "problemMatcher": ["$tsc-watch"],
        "runOptions": { "instanceLimit": 1 },
      },
      {
        "label": "ğŸš¥ Cypress Run Dev : Current file",
        "dependsOn": [
          "ğŸš¥ Cypress Setup Dev : Current file",
          "ğŸš¥ Cypress Run Once : Current file",
        ],
        "group": "build",
      },
      {
        "label": "ğŸš¥ Cypress Run Once : Current file",
        "command": "npm run e2e:run ${fileDirnameBasename}",
        "dependsOn": ["ğŸš¥ Cypress Setup Dev : Current file"],
        "type": "shell",
        "group": "build",
        "options": {
          "cwd": "${workspaceFolder:/}",
        },
        "problemMatcher": ["$tsc-watch"],
        "runOptions": { "instanceLimit": 1 },
      },
      {
        "label": "ğŸš¥ Cypress Run Dev : Current file",
        "command": "npm run e2e:run ${fileDirnameBasename}",
        "dependsOn": ["ğŸš¥ Cypress Setup Dev : Current file"],
        "type": "shell",
        "group": "build",
        "options": {
          "cwd": "${workspaceFolder:/}",
        },
        "problemMatcher": ["$tsc-watch"],
        "runOptions": { "instanceLimit": 1 },
      },
      {
        "label": "ğŸš¥ Cypress Setup Dev : Current file",
        "command": "npm run e2e:setup ${fileDirnameBasename} -- --dev",
        "dependsOn": ["ğŸ‹ Docker Up"],
        "type": "shell",
        "group": "build",
        "options": {
          "cwd": "${workspaceFolder:/}",
          "env": {
            "ENABLE_DATABASE_DELETION": "True",
            "CI": "kind of",
          },
        },
        "isBackground": true,
        "problemMatcher": ["$tsc-watch"],
        "runOptions": { "instanceLimit": 1 },
      },
      {
        "label": "ğŸš¥ Cypress Reset Database : Current file",
        "command": "npm run delete-database && npm run migrate up && npm run fixtures:load-ci cypress/e2e/${fileDirnameBasename}/fixtures.sql && npm run update-organization-info 0",
        "dependsOn": ["ğŸ‹ Docker Up"],
        "type": "shell",
        "group": "build",
        "options": {
          "cwd": "${workspaceFolder:/}",
          "env": {
            "ENABLE_DATABASE_DELETION": "True",
            "CI": "kind of",
          },
        },
        "problemMatcher": ["$tsc-watch"],
        "runOptions": { "instanceLimit": 1 },
      },
    ],
  },
  "settings": {
    "search.exclude": {
      "**/*.code-search": true,
      "**/bower_components": true,
      "**/dist": true,
      "**/node_modules": true,
    },
    "npm.packageManager": "bun",
    "cSpell.language": "en,fr",
    "cSpell.words": ["franceconnect", "oidc"],
  },
}
